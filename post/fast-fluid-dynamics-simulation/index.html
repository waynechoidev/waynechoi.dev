<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/2e2a7597edf4d608.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/602feae4669a507e.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-c25d000de3a6a081.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-33f88dcb8cab817d.js" async="" crossorigin=""></script><script src="/_next/static/chunks/472-c5427e31248623a0.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-998ad79e34130139.js" async="" crossorigin=""></script><script src="/_next/static/chunks/326-6784f49434136418.js" async=""></script><script src="/_next/static/chunks/app/layout-a7d9660fe841e21f.js" async=""></script><script src="/_next/static/chunks/691-d72542b099e0bc41.js" async=""></script><script src="/_next/static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js" async=""></script><title>WayneChoi.Dev</title><meta name="description" content="Wayne Choi blog"/><link rel="icon" href="/favicon.ico"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="mx-auto my-0"><nav class="max-w-default mx-auto px-5 py-3"><div class="flex justify-end"><a href="/about/"><span class="hover:font-bold pl-3 text-lg font-normal">About</span></a><a href="/posts/"><span class="hover:font-bold pl-3 text-lg font-normal">Posts</span></a></div></nav><header><div class="h-32 relative" id="sky"><canvas class="w-full h-full"></canvas><div class="absolute top-0 inset-x-auto w-full "><div class="w-full max-w-default mx-auto"><h1 class="text-4xl font-semibold p-5 pt-0"><a class="text-blue-800" href="/">WayneChoi.dev</a></h1></div></div></div></header><div class="max-w-default mx-auto p-5"><div><a class="text-gray-600 text-md pl-1 hover:font-bold" href="/posts/graphics/">GRAPHICS</a><h1>Fast fluid dynamics simulation</h1><p class="text-gray-400 text-sm m-0 mt-1">Sep 4, 2024</p><div class="mt-1"><div class="whitespace-nowrap overflow-x-auto pb-3"><a class="mr-2 text-gray-500 hover:font-bold" href="/tag/simulation/">#simulation</a><a class="mr-2 text-gray-500 hover:font-bold" href="/tag/webgpu/">#webgpu</a><a class="mr-2 text-gray-500 hover:font-bold" href="/tag/math/">#math</a></div></div><div class="mt-8"><div class="flex flex-col justify-center"></div></div><div><div></div></div></div></div><footer class="h-40 flex justify-center items-end"><p class="text-gray-500 text-sm">(C) 2021. Wayne Choi. All rights reserved.</p></footer><script src="/_next/static/chunks/webpack-c25d000de3a6a081.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/2e2a7597edf4d608.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/602feae4669a507e.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[3728,[],\"\"]\n6:I[9928,[],\"\"]\n7:I[9194,[\"326\",\"static/chunks/326-6784f49434136418.js\",\"185\",\"static/chunks/app/layout-a7d9660fe841e21f.js\"],\"\"]\n8:I[5629,[\"326\",\"static/chunks/326-6784f49434136418.js\",\"185\",\"static/chunks/app/layout-a7d9660fe841e21f.js\"],\"\"]\n9:I[6954,[],\"\"]\na:I[7264,[],\"\"]\nc:I[8326,[\"326\",\"static/chunks/326-6784f49434136418.js\",\"691\",\"static/chunks/691-d72542b099e0bc41.js\",\"605\",\"static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js\"],\"\"]\nd:I[7708,[\"326\",\"static/chunks/326-6784f494341"])</script><script>self.__next_f.push([1,"36418.js\",\"691\",\"static/chunks/691-d72542b099e0bc41.js\",\"605\",\"static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js\"],\"\"]\nf:I[5631,[\"326\",\"static/chunks/326-6784f49434136418.js\",\"691\",\"static/chunks/691-d72542b099e0bc41.js\",\"605\",\"static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js\"],\"\"]\ne:T396c,"])</script><script>self.__next_f.push([1,"\n\u003cimg src=\"/img/fast-fluid-dynamics-simulation-01.jpg\" class=\"post-pic\"/\u003e\n\n[Sample](https://waynechoidev.github.io/stable-fluids/) / [Repository](https://github.com/waynechoidev/stable-fluids/)\n\nI implemented a fast fluid dynamics simulation based on [Jos Stam's Stable Fluids](http://graphics.cs.cmu.edu/nsp/course/15-464/Fall09/papers/StamFluidforGames.pdf) with using WebGPU api. This post will briefly cover the mathematical aspects and primarily focus on the implementation. However, please note that all the code presented here has been simplified for explanation purposes, and the detailed implementation can be found in the repository linked above.\n\n## 0. Mathematics\n\nBefore diving into the implementation of fluid simulation, it's important to briefly explore the mathematical foundations that underpin fluid dynamics. The primary equation that governs the motion of fluids is the Navier-Stokes equation.\n\n### Navier-Stokes Equation\n\nThe Navier-Stokes equation is a partial differential equation that describes the conservation of momentum for fluid flow. In the case of incompressible fluids, it can be expressed as:\n\n\u003cimg src=\"/img/fast-fluid-dynamics-simulation-01.svg\" class=\"latex-long\"/\u003e\n\n- **ùë¢** represents the velocity field of the fluid.\n- **ùë°** represents time.\n- **ùúå** is the density of the fluid.\n- **ùëù** represents pressure.\n- **ùúà** is the kinematic viscosity (a measure of the fluid's resistance to flow).\n- **F** represents external forces (such as gravity).\n\nIn this context, the term **ùëì** representing external forces is included in the equation but will be omitted in the subsequent discussion for simplicity. This equation serves as the core mathematical tool for describing the motion and behavior of fluids. By solving the Navier-Stokes equation, we can compute the fluid's velocity, pressure, and other properties, which are then used to simulate fluid motion.\n\nTo solve this, partial differential equations need to be numerically solved. The methods for this were explained in [a previous post](https://waynechoi.dev/post/heat-equation/) where the heat equation was implemented, which can be reviewed for more details.\n\n## 1. Add impulse\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x:f32 = f32(id.x);\n    let y:f32 = f32(id.y);\n    let idx = getIdx(id.xy, size.width);\n\n    if (constant.is_tracking == 1.0 ) {\n        let dist = length(vec2f(f32(x), f32(y)) - constant.pos) / SRC_RADIUS;\n        let scale = smootherstep(1.0 - dist, 0.0, 1.0);\n\n        let velocity = velocity_buffer[idx] + constant.velocity * scale;\n        let density = density_buffer[idx] + constant.density * scale;\n\n        velocity_buffer[idx] = clampVelocity(velocity);\n        density_buffer[idx] = density;\n    }\n}\n```\n\nDefine the starting point and initial conditions for the fluid. Set the initial state of the fluid to establish the starting point of the simulation. At this stage, a smootherstep function was used to provide a more natural impulse.\n\n## 2. Solve Navier-Stokes\n\n### 2.1 Projection\n\nThe projection step involves calculating the pressure field and adjusting the velocity field to ensure the fluid flow is accurately simulated. This process aims to make the divergence of the velocity zero and uses the Poisson equation and Jacobi iteration to iteratively update the pressure field.\n\n#### 2.1.1 Divergence\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    divergence_buffer[idx] = 0.25 *\n    (velocity_buffer[getIdx(N.right, size.width)].x - velocity_buffer[getIdx(N.left, size.width)].x +\n    velocity_buffer[getIdx(N.up, size.width)].y - velocity_buffer[getIdx(N.down, size.width)].y);\n\n    pressure_buffer[idx] = 0;\n    temp_pressure_buffer[idx] = 0;\n}\n```\n\nCalculating the divergence of the velocity field is a crucial step for pressure calculation. If there is divergence, the velocity field may not converge or may exhibit divergence, which requires pressure to correct.\n\nIn this case, since we are calculating the divergence on the vector field of velocity, the formula differs from that used in the heat equation. In the heat equation, the divergence was calculated from the vector field of pressure, which required the use of the Laplacian. However, since we are dealing with a vector field (velocity) that is already in gradient form, we can directly calculate the divergence without needing the Laplacian.\n\nTo prepare for the next step, the pressure buffers were initialized here.\n\n#### 2.1.2 pressure disturbance\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    pressure_output[idx] = (pressure_input[getIdx(N.right, size.width)] + pressure_input[getIdx(N.left, size.width)]\n    + pressure_input[getIdx(N.up, size.width)] + pressure_input[getIdx(N.down, size.width)] - divergence[idx] * 4.0) * 0.25;\n}\n```\n\nPressure disturbance refers to small fluctuations or imbalances in the pressure field within fluid simulations. These disturbances can arise from changes in fluid velocity or external forces. To address pressure imbalances, the Poisson equation is used and numerically solved through Jacobi iteration. Jacobi iteration repeatedly updates the pressure field to minimize pressure disturbances, thereby adjusting the velocity field to accurately simulate the fluid's flow.\n\n#### 2.1.3 Apply Pressure\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    let gradient:vec2f = vec2f(\n    (pressure_buffer[getIdx(N.right, size.width)] - pressure_buffer[getIdx(N.left, size.width)]),\n    (pressure_buffer[getIdx(N.up, size.width)] - pressure_buffer[getIdx(N.down, size.width)])\n    ) * 0.25;\n\n    let velocity = velocity_buffer[idx] - gradient;\n\n    velocity_buffer[idx] = clampVelocity(velocity);\n}\n```\n\nThe calculated pressure field is used to adjust the velocity field. In this process, the velocity field is modified according to the pressure differences, allowing the fluid flow to converge and the pressure distribution to be appropriately applied.\n\n## 3. Viscous Diffusion\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    let velocity = (velocity_input[idx]\n    + constant.viscosity * constant.dt * (\n    velocity_input[getIdx(N.right, size.width)] + velocity_input[getIdx(N.left, size.width)]\n    + velocity_input[getIdx(N.up, size.width)] + velocity_input[getIdx(N.down, size.width)]\n    )) / (1.0 + 4 * constant.viscosity * constant.dt);\n\n    velocity_output[idx] = clampVelocity(velocity);\n}\n```\n\nViscosity diffusion is applied to smooth out the fluid's velocity and simulate the effects of viscosity. This step models the viscous term in the Navier-Stokes equation.\n\n## 4. Post process\n\nWhile not directly related to solving the Navier-Stokes equations, it plays a crucial role in making the simulation results more realistic and stable.\n\n### 4.1 Density diffusion\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    let density = (density_input[idx]\n    + constant.viscosity * constant.dt * (\n    density_input[getIdx(N.right, size.width)] + density_input[getIdx(N.left, size.width)]\n    + density_input[getIdx(N.up, size.width)] + density_input[getIdx(N.down, size.width)]\n    )) / (1.0 + 4 * constant.viscosity * constant.dt);\n\n    density_output[idx] = density;\n}\n```\n\nDensity diffusion is the process of smoothing out density variations in fluid simulation to enhance both stability and realism. By gradually adjusting density changes, it helps prevent instability in the simulation. For computational efficiency, it was implemented in the same shader program used for viscous diffusion.\n\n### 4.2 Vorticity\n\nCalculate the vorticity of the fluid to achieve a more realistic flow. By adding the rotation (or vortices) of the fluid, the physical accuracy of the simulation is enhanced.\n\n#### 4.2.1 Compute vorticity\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    vorticity_buffer[idx] = 0.25 *\n    (velocity_buffer[getIdx(N.right, size.width)].x - velocity_buffer[getIdx(N.left, size.width)].x +\n    velocity_buffer[getIdx(N.up, size.width)].y - velocity_buffer[getIdx(N.down, size.width)].y);\n}\n```\n\n#### 4.2.2 Confine vorticity\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let N:Neighbors = getNeighbors(x, y, size);\n\n    let dx = vec2f(1.0 / f32(size.width), 1.0 / f32(size.height));\n\n    let eta = vec2f((abs(vorticity_buffer[getIdx(N.right, size.width)]) - abs(vorticity_buffer[getIdx(N.left, size.width)])) / (2.0 * f32(x)),\n                    (abs(vorticity_buffer[getIdx(N.up, size.width)]) - abs(vorticity_buffer[getIdx(N.down, size.width)])) / (2.0 * f32(y)));\n\n    if (length(eta) \u003c 1e-5){\n        return;\n    }\n\n    let psi = vec3f(normalize(eta).xy, 0.0);\n    let omega = vec3f(0, 0, vorticity_buffer[idx]);\n\n    let velocity = velocity_buffer[idx] + 0.2 * cross(psi, omega).xy * dx;\n\n    velocity_buffer[idx] = clampVelocity(velocity);\n}\n```\n\n### 4.3 Density dissipation\n\n```js\ndensity_buffer[idx] = max(\n  density_buffer[idx] - vec4f(DISSIPATION_FACTOR),\n  vec4f(0.0)\n);\n```\n\nEnergy dissipation is applied to maintain simulation stability and ensure physical accuracy. This process involves adding artificial dissipation of density, which creates the effect of the fluid gradually disappearing naturally, and was applied when adding impulses.\n\n## 5. Textures\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = id.x;\n    let y = id.y;\n    let idx = getIdx(id.xy, size.width);\n\n    let velocity:vec2f = velocity_buffer[idx];\n    let density:vec4f = density_buffer[idx];\n\n    textureStore(velocity_texture, vec2\u003ci32\u003e(i32(x), i32(y)), encodeVelocity(velocity));\n    textureStore(density_texture, vec2\u003ci32\u003e(i32(x), i32(y)), density);\n}\n```\n\nBefore performing advection, it is necessary to transfer the density buffer and velocity buffer to textures. This is because when advection is performed using a sampler, interpolation is applied, which allows for efficient extraction of density and velocity values from the textures and leads to more accurate fluid flow simulation. If advection is performed directly on storage buffers without interpolation, irregular results such as the staircasing effect shown in the image below may occur.\n\n\u003cimg src=\"/img/fast-fluid-dynamics-simulation-02.jpg\" class=\"post-pic\"/\u003e\n\nOne additional point to note is that when storing velocity in a texture, it must be normalized to the 0‚Äì1 range to handle negative values. Otherwise, due to the texture's limitation in storing negative values, the velocity would always point only to the right or upwards. For more stable encoding and decoding, the velocity is always clamped to the range of -1 to 1. The following set of functions is used for these tasks.\n\n```js\n// clamp velocity between -1 and 1\nfn clampVelocity(v: vec2f) -\u003e vec2f {\n    return clamp(v, vec2f(-1.0), vec2f(1.0));\n}\n\n// encode velocity with -1..1 range to texture with 0..1 range\nfn encodeVelocity(v: vec2f) -\u003e vec4f {\n    return vec4f(v * 0.5 + 0.5, 0, 0);\n}\n\n// decode texture with 0..1 range to velocity with -1..1 range\nfn decodeVelocity(v: vec4f) -\u003e vec2f {\n    return v.xy * 2.0 - 1.0;\n}\n```\n\n## 6. Advection\n\n```js\n@compute @workgroup_size(16, 16, 1)\nfn main(@builtin(global_invocation_id) id: vec3u) {\n    let x = f32(id.x);\n    let y = f32(id.y);\n    let idx = getIdx(id.xy, size.width);\n    let pos = vec2\u003cf32\u003e((x + 0.5)/f32(size.width), (y + 0.5)/f32(size.height));\n\n    let velocity = velocity_buffer[idx];\n\n    let dt = constant.dt * 0.0001;\n    let pos_back = pos - velocity * dt;\n\n    var back_velocity:vec2f = decodeVelocity(textureSampleLevel(temp_velocity_texture, my_sampler, pos_back, 0));\n    back_velocity = clampVelocity(back_velocity);\n    let back_density:vec4f = textureSampleLevel(temp_density_texture, my_sampler, pos_back, 0);\n\n    textureStore(velocity_texture, vec2\u003ci32\u003e(i32(x), i32(y)), encodeVelocity(back_velocity));\n    textureStore(density_texture, vec2\u003ci32\u003e(i32(x), i32(y)), back_density);\n\n    velocity_buffer[idx] = clampVelocity(back_velocity);\n    density_buffer[idx] = back_density;\n}\n```\n\nAdvection describes the process by which fluids or other physical quantities move according to their velocity. Simply put, it deals with how substances move with the flow of the fluid. Here, the Semi-Lagrangian method was used to numerically solve advection. This method involves tracking the movement of material particles according to the velocity field and calculating their values at new positions.\n\nIn this process, to handle the movement of the material, the position was adjusted by adding 0.5 to each axis, starting from the center of the grid. Finally, to render the results, the target texture and the velocity and density buffers for the next frame's calculations are updated. To prevent data race conditions, the density texture and render target texture are kept separate.\n\n## Conclusion\n\nBy following this sequence in fluid simulation, you can effectively model the physical properties and flow of the fluid. Each step enhances the accuracy of the simulation and helps to accurately represent the dynamic characteristics of the fluid.\n\n### References\n\n- [Introduction to Computer Graphics with DirectX 11 - Part 4. Computer Animation](https://honglab.co.kr/courses/graphicspt4)\n- [GPU Gems](https://developer.nvidia.com/gpugems/gpugems/part-vi-beyond-triangles/chapter-38-fast-fluid-dynamics-simulation-gpu)\n- [Wikipedia](\u003chttps://en.wikipedia.org/wiki/Projection_method_(fluid_dynamics)\u003e)\n- [Real-Time Fluid Dynamics for Games - Jos Stam](http://graphics.cs.cmu.edu/nsp/course/15-464/Fall09/papers/StamFluidforGames.pdf)\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2e2a7597edf4d608.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"ABfo1ZEc2PJNcUi_-b7W1\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/fast-fluid-dynamics-simulation/\",\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"fast-fluid-dynamics-simulation\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"fast-fluid-dynamics-simulation\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"mx-auto my-0\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"max-w-default mx-auto px-5 py-3\",\"children\":[\"$\",\"$L7\",null,{}]}],[\"$\",\"header\",null,{\"children\":[\"$\",\"$L8\",null,{}]}],[\"$\",\"div\",null,{\"className\":\"max-w-default mx-auto p-5\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",[\"slug\",\"fast-fluid-dynamics-simulation\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lb\",[\"$\",\"div\",null,{\"children\":[[\"$\",\"$Lc\",null,{\"href\":\"/posts/graphics\",\"className\":\"text-gray-600 text-md pl-1 hover:font-bold\",\"children\":\"GRAPHICS\"}],[\"$\",\"h1\",null,{\"children\":\"Fast fluid dynamics simulation\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-400 text-sm m-0 mt-1\",\"children\":\"Sep 4, 2024\"}],[\"$\",\"div\",null,{\"className\":\"mt-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"whitespace-nowrap overflow-x-auto pb-3\",\"children\":[[\"$\",\"$Lc\",\"simulation\",{\"href\":\"/tag/simulation\",\"className\":\"mr-2 text-gray-500 hover:font-bold\",\"children\":\"#simulation\"}],[\"$\",\"$Lc\",\"webgpu\",{\"href\":\"/tag/webgpu\",\"className\":\"mr-2 text-gray-500 hover:font-bold\",\"children\":\"#webgpu\"}],[\"$\",\"$Lc\",\"math\",{\"href\":\"/tag/math\",\"className\":\"mr-2 text-gray-500 hover:font-bold\",\"children\":\"#math\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"mt-8\",\"children\":[\"$\",\"$Ld\",null,{\"content\":\"$e\"}]}],[\"$\",\"$Lf\",null,{\"issueTerm\":\"Fast fluid dynamics simulation\"}]]}],null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"fast-fluid-dynamics-simulation\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/602feae4669a507e.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],null],\"segment\":[\"slug\",\"fast-fluid-dynamics-simulation\",\"d\"]},\"styles\":[]}],\"segment\":\"post\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"h-40 flex justify-center items-end\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-gray-500 text-sm\",\"children\":\"(C) 2021. Wayne Choi. All rights reserved.\"}]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"WayneChoi.Dev\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Wayne Choi blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]\nb:null\n"])</script></body></html>