1:HL["/_next/static/css/2e2a7597edf4d608.css","style",{"crossOrigin":""}]
0:["OTz1D5SnKRCW8w_iwEmE8",[[["",{"children":["post",{"children":[["slug","galton-board","d"],{"children":["__PAGE__?{\"slug\":\"galton-board\"}",{}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2e2a7597edf4d608.css","precedence":"next","crossOrigin":""}]],"$L3"]]]]
4:HL["/_next/static/css/602feae4669a507e.css","style",{"crossOrigin":""}]
5:I[9194,["326","static/chunks/326-6784f49434136418.js","185","static/chunks/app/layout-a7d9660fe841e21f.js"],""]
6:I[5629,["326","static/chunks/326-6784f49434136418.js","185","static/chunks/app/layout-a7d9660fe841e21f.js"],""]
7:I[6954,[],""]
8:I[7264,[],""]
a:I[8326,["326","static/chunks/326-6784f49434136418.js","691","static/chunks/691-d72542b099e0bc41.js","605","static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js"],""]
b:I[7708,["326","static/chunks/326-6784f49434136418.js","691","static/chunks/691-d72542b099e0bc41.js","605","static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js"],""]
d:I[5631,["326","static/chunks/326-6784f49434136418.js","691","static/chunks/691-d72542b099e0bc41.js","605","static/chunks/app/post/%5Bslug%5D/page-e90f3bafd107b713.js"],""]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"WayneChoi.Dev"}],["$","meta","2",{"name":"description","content":"Wayne Choi blog"}],["$","meta","3",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","4",{"rel":"icon","href":"/favicon.ico"}]]
c:T747,
<img src="/img/galton-board.jpg" class="post-pic">

[Sample](https://waynechoidev.github.io/galton-board/) / [Repository](https://github.com/waynechoidev/galton-board/)

I implemented a Galton Board using WebGPU. The Galton Board is a machine that visually represents the standard normal distribution. I had wanted to implement the Galton Board using a particle system in the past, but it was difficult to compute particle collisions using the WebGL API without compute shaders. However, with WebGPU, I was able to use compute shaders to implement it.

First, I randomly generated the central position values of each particle and stored them in a Storage Buffer. In a compute shader, I handled collisions between particles and obstacles, updating their positions and velocities. In another compute shader, I updated the Result Buffer with the x-coordinates of particles that fell to the bottom of the screen and reset their positions and velocities.

In yet another compute shader, I generated billboard vertices from the Storage Buffer containing just the particle center coordinates, similar to how a geometry shader works. These vertices were then passed to the graphics pipeline for rendering on the screen, with the fragment shader performing calculations to render them as circles.

Finally, I copied the values from the Result Buffer to a read-only buffer and brought it to the CPU, then updated the UI. This completed the implementation process.

In the past, performing GPGPU with textures in the fragment shader using WebGL was very difficult to understand and complex. However, with WebGPU, I could easily move between compute shaders and the graphics pipeline using Storage Buffers. Now that I understand the overall process, I feel like I could even implement this using WebGL if I had to. Ultimately, what's important isn't the API or tool itself.
2:[null,["$","html",null,{"lang":"en","children":["$","body",null,{"className":"mx-auto my-0","children":[["$","nav",null,{"className":"max-w-default mx-auto px-5 py-3","children":["$","$L5",null,{}]}],["$","header",null,{"children":["$","$L6",null,{}]}],["$","div",null,{"className":"max-w-default mx-auto p-5","children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","post","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[null,["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","post","children",["slug","galton-board","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L9",["$","div",null,{"children":[["$","$La",null,{"href":"/posts/graphics","className":"text-gray-600 text-md pl-1 hover:font-bold","children":"GRAPHICS"}],["$","h1",null,{"children":"Galton board"}],["$","p",null,{"className":"text-gray-400 text-sm m-0 mt-1","children":"April 24, 2024"}],["$","div",null,{"className":"mt-1","children":["$","div",null,{"className":"whitespace-nowrap overflow-x-auto pb-3","children":[["$","$La","toyproject",{"href":"/tag/toyproject","className":"mr-2 text-gray-500 hover:font-bold","children":"#toyproject"}],["$","$La","webgpu",{"href":"/tag/webgpu","className":"mr-2 text-gray-500 hover:font-bold","children":"#webgpu"}],["$","$La","particles",{"href":"/tag/particles","className":"mr-2 text-gray-500 hover:font-bold","children":"#particles"}],["$","$La","collision",{"href":"/tag/collision","className":"mr-2 text-gray-500 hover:font-bold","children":"#collision"}]]}]}],["$","div",null,{"className":"mt-8","children":["$","$Lb",null,{"content":"$c"}]}],["$","$Ld",null,{"issueTerm":"Galton board"}]]}],null],"segment":"__PAGE__?{\"slug\":\"galton-board\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/602feae4669a507e.css","precedence":"next","crossOrigin":""}]]}],null],"segment":["slug","galton-board","d"]},"styles":[]}],"segment":"post"},"styles":[]}]}],["$","footer",null,{"className":"h-40 flex justify-center items-end","children":["$","p",null,{"className":"text-gray-500 text-sm","children":"(C) 2021. Wayne Choi. All rights reserved."}]}]]}]}],null]
9:null
